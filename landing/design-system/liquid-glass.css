/**
 * ============================================
 * LIQUID GLASS DESIGN SYSTEM
 * ============================================
 * Apple-inspired glassmorphism with liquid dynamics
 * AI-EDITABLE: Modify values to adjust glass effects
 */

/* ========================================
 * BASE GLASS EFFECTS
 * ======================================== */

.glass {
  background: var(--color-glass-bg);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid var(--color-glass-border);
  transition: all var(--duration-normal) var(--ease-out);
}

.glass-subtle {
  background: oklch(0.99 0.001 264 / 0.4);
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  border: 1px solid oklch(1 0 0 / 0.08);
}

.glass-heavy {
  background: oklch(0.98 0.002 264 / 0.85);
  backdrop-filter: blur(40px) saturate(200%);
  -webkit-backdrop-filter: blur(40px) saturate(200%);
  border: 1px solid oklch(1 0 0 / 0.2);
}

.glass-dark {
  background: oklch(0.15 0.005 264 / 0.7);
  backdrop-filter: blur(24px) saturate(180%);
  -webkit-backdrop-filter: blur(24px) saturate(180%);
  border: 1px solid oklch(1 0 0 / 0.06);
}

/* ========================================
 * LIQUID GLASS CARD
 * Signature Apple-style card with refraction
 * ======================================== */

.liquid-glass-card {
  position: relative;
  background: linear-gradient(
    135deg,
    oklch(1 0 0 / 0.7) 0%,
    oklch(0.98 0.002 264 / 0.5) 50%,
    oklch(1 0 0 / 0.6) 100%
  );
  backdrop-filter: blur(24px) saturate(180%);
  -webkit-backdrop-filter: blur(24px) saturate(180%);
  border: 1px solid oklch(1 0 0 / 0.2);
  border-radius: var(--radius-2xl);
  overflow: hidden;
  transition: all var(--duration-normal) var(--ease-spring);
}

/* Highlight edge (top/left light effect) */
.liquid-glass-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    oklch(1 0 0 / 0.3) 0%,
    transparent 50%,
    transparent 100%
  );
  border-radius: inherit;
  pointer-events: none;
}

/* Inner glow effect */
.liquid-glass-card::after {
  content: '';
  position: absolute;
  inset: 1px;
  background: linear-gradient(
    180deg,
    oklch(1 0 0 / 0.1) 0%,
    transparent 40%
  );
  border-radius: calc(var(--radius-2xl) - 1px);
  pointer-events: none;
}

.liquid-glass-card:hover {
  transform: translateY(-2px);
  box-shadow:
    0 8px 32px oklch(0.7 0.12 260 / 0.15),
    0 2px 8px oklch(0 0 0 / 0.08);
  border-color: oklch(1 0 0 / 0.3);
}

/* ========================================
 * LIQUID GLASS BUTTON
 * ======================================== */

.liquid-glass-button {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-6);
  background: linear-gradient(
    135deg,
    oklch(1 0 0 / 0.8) 0%,
    oklch(0.98 0.002 264 / 0.6) 100%
  );
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  border: 1px solid oklch(1 0 0 / 0.25);
  border-radius: var(--radius-full);
  font-family: var(--font-ui);
  font-weight: var(--font-semibold);
  font-size: var(--text-sm);
  color: var(--color-ink);
  cursor: pointer;
  transition: all var(--duration-fast) var(--ease-spring);
  overflow: hidden;
}

.liquid-glass-button::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    oklch(1 0 0 / 0.4) 0%,
    transparent 50%
  );
  border-radius: inherit;
  pointer-events: none;
}

.liquid-glass-button:hover {
  transform: translateY(-1px) scale(1.02);
  box-shadow:
    0 4px 16px oklch(0 0 0 / 0.1),
    0 2px 4px oklch(0 0 0 / 0.05);
  border-color: oklch(1 0 0 / 0.4);
}

.liquid-glass-button:active {
  transform: translateY(0) scale(0.98);
}

/* Primary variant */
.liquid-glass-button-primary {
  background: linear-gradient(
    135deg,
    oklch(0.70 0.12 260 / 0.9) 0%,
    oklch(0.60 0.15 270 / 0.9) 100%
  );
  color: white;
  border-color: oklch(0.75 0.10 260 / 0.3);
}

.liquid-glass-button-primary:hover {
  box-shadow:
    0 4px 20px oklch(0.70 0.12 260 / 0.4),
    0 2px 8px oklch(0.70 0.12 260 / 0.2);
}

/* ========================================
 * LIQUID GLASS INPUT
 * ======================================== */

.liquid-glass-input {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  background: oklch(1 0 0 / 0.5);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid oklch(1 0 0 / 0.2);
  border-radius: var(--radius-xl);
  font-family: var(--font-body);
  font-size: var(--text-base);
  color: var(--color-text-primary);
  transition: all var(--duration-fast) var(--ease-out);
}

.liquid-glass-input::placeholder {
  color: var(--color-text-muted);
}

.liquid-glass-input:focus {
  outline: none;
  background: oklch(1 0 0 / 0.7);
  border-color: oklch(0.70 0.12 260 / 0.5);
  box-shadow:
    0 0 0 3px oklch(0.70 0.12 260 / 0.15),
    0 2px 8px oklch(0 0 0 / 0.08);
}

/* ========================================
 * LIQUID GLASS BADGE
 * ======================================== */

.liquid-glass-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-3);
  background: oklch(1 0 0 / 0.6);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid oklch(1 0 0 / 0.2);
  border-radius: var(--radius-full);
  font-family: var(--font-ui);
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.liquid-glass-badge-success {
  background: oklch(0.72 0.15 145 / 0.15);
  border-color: oklch(0.72 0.15 145 / 0.3);
  color: oklch(0.50 0.15 145);
}

.liquid-glass-badge-info {
  background: oklch(0.70 0.12 230 / 0.15);
  border-color: oklch(0.70 0.12 230 / 0.3);
  color: oklch(0.50 0.15 230);
}

/* ========================================
 * LIQUID GLASS PANEL (Full sections)
 * ======================================== */

.liquid-glass-panel {
  position: relative;
  background: linear-gradient(
    180deg,
    oklch(1 0 0 / 0.5) 0%,
    oklch(0.98 0.002 264 / 0.3) 100%
  );
  backdrop-filter: blur(32px) saturate(180%);
  -webkit-backdrop-filter: blur(32px) saturate(180%);
  border-top: 1px solid oklch(1 0 0 / 0.2);
  border-bottom: 1px solid oklch(0 0 0 / 0.05);
}

.liquid-glass-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    oklch(1 0 0 / 0.5) 50%,
    transparent 100%
  );
}

/* ========================================
 * LIQUID FLOW ANIMATION
 * Creates the "liquid" movement effect
 * ======================================== */

@keyframes liquidFlow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.liquid-animated {
  background-size: 200% 200%;
  animation: liquidFlow 8s ease-in-out infinite;
}

/* ========================================
 * LIQUID SHIMMER
 * Subtle light reflection animation
 * ======================================== */

@keyframes liquidShimmer {
  0% {
    opacity: 0.5;
    transform: translateX(-100%) rotate(45deg);
  }
  50% {
    opacity: 0.8;
  }
  100% {
    opacity: 0.5;
    transform: translateX(100%) rotate(45deg);
  }
}

.liquid-shimmer {
  position: relative;
  overflow: hidden;
}

.liquid-shimmer::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    45deg,
    transparent 40%,
    oklch(1 0 0 / 0.1) 50%,
    transparent 60%
  );
  animation: liquidShimmer 6s ease-in-out infinite;
  pointer-events: none;
}

/* ========================================
 * REFRACTION EFFECT
 * Creates light bending through glass
 * ======================================== */

.liquid-refraction {
  position: relative;
}

.liquid-refraction::before {
  content: '';
  position: absolute;
  inset: -2px;
  background: conic-gradient(
    from 0deg at 50% 50%,
    oklch(0.85 0.08 260 / 0.2) 0deg,
    oklch(0.85 0.08 200 / 0.2) 90deg,
    oklch(0.85 0.08 320 / 0.2) 180deg,
    oklch(0.85 0.08 260 / 0.2) 270deg,
    oklch(0.85 0.08 260 / 0.2) 360deg
  );
  border-radius: inherit;
  filter: blur(8px);
  opacity: 0;
  transition: opacity var(--duration-normal) var(--ease-out);
  pointer-events: none;
  z-index: -1;
}

.liquid-refraction:hover::before {
  opacity: 1;
}

/* ========================================
 * GLASS DEPTH VARIANTS
 * ======================================== */

.glass-depth-1 { z-index: 1; }
.glass-depth-2 { z-index: 2; }
.glass-depth-3 { z-index: 3; }

/* Stacked glass effect */
.glass-stack {
  position: relative;
}

.glass-stack > * {
  position: relative;
}

.glass-stack > *:nth-child(1) { z-index: 3; }
.glass-stack > *:nth-child(2) { z-index: 2; transform: translateY(8px) scale(0.98); opacity: 0.8; }
.glass-stack > *:nth-child(3) { z-index: 1; transform: translateY(16px) scale(0.96); opacity: 0.6; }
